#!/usr/bin/env node

import { readAll } from '../lib/utils/readAll.mjs';

const mappings = [
  [/(\u00E2\u0080\u00A6?)/g, '...'],
  [/(\u00C2?\u00AB)/g, '«'],
  [/(\u00C2?\u00BB)/g, '»'],
  [/(\u00C2\u00A0)/g, ''],
  [/([\u00C0\u00C1\u00C2\u00C3\u00C4\u00C5\u0100\u0102\u0104\u1E00\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1F08-\u1F0F])/g, 'A'],
  [/([\u00E0\u00E1\u00E2\u00E3\u00E4\u00E5\u0101\u0103\u0105\u1E01\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1F00-\u1F07])/g, 'a'],
  [/([\u00C6])/g, 'AE'],
  [/([\u00E6])/g, 'ae'],
  [/([\u00C7\u0106\u0108\u010A\u010C\u1E08])/g, 'C'],
  [/([\u00E7\u0107\u0109\u010B\u010D\u1E09])/g, 'c'],
  [/([\u010E\u0110])/g, 'D'],
  [/([\u010F\u0111])/g, 'd'],
  [/([\u00C8\u00C9\u00CA\u00CB\u0112\u0114\u0116\u0118\u011A\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1F18-\u1F1D])/g, 'E'],
  [/([\u00E8\u00E9\u00EA\u00EB\u0113\u0115\u0117\u0119\u011B\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1F10-\u1F15])/g, 'e'],
  [/([\u011C\u011E\u0120\u0122])/g, 'G'],
  [/([\u011D\u011F\u0121\u0123])/g, 'g'],
  [/([\u0124\u0126])/g, 'H'],
  [/([\u0125\u0127])/g, 'h'],
  [/([\u00CC\u00CD\u00CE\u00CF\u0128\u012A\u012C\u012E\u0130\u1E2C\u1E2E\u1EC8\u1ECA\u1F38-\u1F3F])/g, 'I'],
  [/([\u00EC\u00ED\u00EE\u00EF\u0129\u012B\u012D\u012F\u0131\u1E2D\u1E2F\u1EC9\u1ECB\u1F30-\u1F37])/g, 'i'],
  [/([\u0132])/g, 'IJ'],
  [/([\u0133])/g, 'ij'],
  [/([\u0134])/g, 'J'],
  [/([\u0135])/g, 'j'],
  [/([\u0136\u1E30])/g, 'K'],
  [/([\u0137\u1E31])/g, 'k'],
  [/([\u0139\u013B\u013D\u013F\u0141])/g, 'L'],
  [/([\u013A\u013C\u013E\u0140\u0142])/g, 'l'],
  [/([\u00D1\u0143\u0145\u0147\u014A])/g, 'N'],
  [/([\u00F1\u0144\u0146\u0148\u0149\u014B])/g, 'n'],
  [/([\u00D2\u00D3\u00D4\u00D5\u00D6\u00D8\u014C\u014E\u0150\u01A0\u1E4C\u1E4E\u1E50\u1E52\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1F48-\u1F4D])/g, 'O'],
  [/([\u00F2\u00F3\u00F4\u00F5\u00F6\u00F8\u014D\u014F\u0151\u01A1\u1E4D\u1E4F\u1E51\u1E53\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1F40-\u1F45])/g, 'o'],
  [/([\u0152])/g, 'OE'],
  [/([\u0153])/g, 'oe'],
  [/([\u0154\u0156\u0158])/g, 'R'],
  [/([\u0155\u0157\u0159])/g, 'r'],
  [/([\u015A\u015C\u015E\u0160])/g, 'S'],
  [/([\u015B\u015D\u015F\u0161])/g, 's'],
  [/([\u0162\u0164\u0166])/g, 'T'],
  [/([\u0163\u0165\u0167])/g, 't'],
  [/([\u00D9\u00DA\u00DB\u00DC\u0168\u016A\u016C\u016E\u0170\u0172\u01AF\u1E72\u1E74\u1E76\u1E78\u1E7A\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0])/g, 'U'],
  [/([\u00F9\u00FA\u00FB\u00FC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u1E73\u1E75\u1E77\u1E79\u1E7B\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1F50-\u1F57])/g, 'u'],
  [/([\u0174\u1E82])/g, 'W'],
  [/([\u0175\u1E83])/g, 'w'],
  [/([\u00D7])/g, 'x'],
  [/([\u00DD\u0176\u0178\u1EF2\u1EF4\u1EF6\u1EF8])/g, 'Y'],
  [/([\u00FD\u00FF\u0177\u1EF3\u1EF5\u1EF7\u1EF9])/g, 'y'],
  [/([\u0179\u017B\u017D])/g, 'Z'],
  [/([\u017A\u017C\u017E])/g, 'z'],
  [/([\u201C\u201D])/g, '"'],
  [/([\u00B4\u2018\u2019\u0092\u02dd])/g, "'"],
  [/([\u2010\u2011\u2012\u2013\u2014\u2015])/g, '-'],
  [/([\u2026])/g, '...']
];

const stripAccents = (str) => mappings.reduce((s, e) => s.replace(e[0], e[1]), str);

const run = async () => {
  let input = await readAll(process.stdin, true);
  process.stdout.write(stripAccents(input));
};

run();
